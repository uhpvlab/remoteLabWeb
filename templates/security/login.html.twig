{% extends 'base.html.twig' %}

{% block body %}
    <div class="bg-white py-6 sm:py-8 lg:py-12">
        <div class="max-w-screen-2xl px-4 md:px-8 mx-auto">
            <h2 class="text-gray-800 text-2xl lg:text-3xl font-bold text-center mb-4 md:mb-8">Login</h2>





            <form method="post" class="max-w-lg border rounded-lg mx-auto">

                <div class="flex flex-col gap-4 p-4 md:p-8">

                    {% if app.user %}
                        <div class="bg-white">
                            <!-- banner - start -->
                            <div class="flex flex-wrap sm:flex-nowrap sm:justify-center sm:items-center bg-indigo-500 relative sm:gap-3 px-4 sm:pr-8 ms:px-8 py-3">
                                <div class="order-1 sm:order-none w-11/12 sm:w-auto max-w-screen-sm inline-block text-white text-sm md:text-base mb-2 sm:mb-0">
                                    You are logged in as {{ app.user.userIdentifier }}, <a href="{{ path('app_logout') }}">Logout</a>
                                </div>
                            </div>
                            <!-- banner - end -->
                        </div>

                    {% endif %}
                    {% if error %}
                        <div class="bg-white">
                            <!-- banner - start -->
                            <div class="flex flex-wrap sm:flex-nowrap sm:justify-center sm:items-center bg-indigo-500 relative sm:gap-3 px-4 sm:pr-8 ms:px-8 py-3">
                                <div class="order-1 sm:order-none w-11/12 sm:w-auto max-w-screen-sm inline-block text-white text-sm md:text-base mb-2 sm:mb-0">
                                    {{ error.messageKey|trans(error.messageData, 'security') }}
                                </div>

                                <!-- close button - start -->
                                <div class="order-2 sm:order-none w-1/12 sm:w-auto flex justify-end items-start sm:absolute sm:right-0 sm:mr-1 xl:mr-3">
                                    <button type="button" class="text-white hover:text-indigo-100 active:text-indigo-200 transition duration-100" onclick="this.parentNode.parentNode.parentElement.remove()">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 md:w-6 h-5 md:h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                                        </svg>
                                    </button>
                                </div>
                                <!-- close button - end -->
                            </div>
                            <!-- banner - end -->
                        </div>
                    {% endif %}

                    <div>
                        <label for="email" class="inline-block text-gray-800 text-sm sm:text-base mb-2">Email</label>
                        <input type="email" value="{{ last_username }}" name="email" id="inputEmail" class="w-full bg-gray-50 text-gray-800 border focus:ring ring-indigo-300 rounded outline-none transition duration-100 px-3 py-2" required autofocus />
                    </div>

                    <div>
                        <label for="password" class="inline-block text-gray-800 text-sm sm:text-base mb-2">Password</label>
                        <input  type="password" name="password" id="inputPassword" class="w-full bg-gray-50 text-gray-800 border focus:ring ring-indigo-300 rounded outline-none transition duration-100 px-3 py-2" required />
                    </div>
                    <input type="hidden" name="_csrf_token"
                           value="{{ csrf_token('authenticate') }}"
                    >

                    {#
                    Uncomment this section and add a remember_me option below your firewall to activate remember me functionality.
                    See https://symfony.com/doc/current/security/remember_me.html

                    #}
                    <div class="checkbox mb-3">
                        <label>
                            <input type="checkbox" name="_remember_me"> Remember me
                        </label>
                    </div>


                    <button class="block bg-gray-800 hover:bg-gray-700 active:bg-gray-600 focus-visible:ring ring-gray-300 text-white text-sm md:text-base font-semibold text-center rounded-lg outline-none transition duration-100 px-8 py-3">Log in</button>

                </div>

                <div class="flex justify-center items-center bg-gray-100 p-4">
                    <p class="text-gray-500 text-sm text-center">Don't have an account? <a href="{{ url('app_register') }}" class="text-indigo-500 hover:text-indigo-600 active:text-indigo-700 transition duration-100">Register</a></p>
                </div>
            </form>
        </div>
    </div>
{% endblock %}

{% block title %}
    Login
{% endblock %}

